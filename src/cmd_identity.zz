using err;
using endpoint;
using identity;
using <stdio.h>::{printf};


pub fn cmd (int mut argc, char ** argv) -> int
    where (usize)argc == len(argv)
{
    new+10000 e = err::make();
    new+1000 ep = endpoint::from_home_carriertoml(&e);
    e.abort();

    identity::Identity mut id= {0};
    ep.vault.get_identity(&id);

    char mut buf[64] = {0};
    identity::identity_to_str(&e, buf, 64, &id);
    e.abort();
    printf("%s\n", buf);
    return 0;
}
